---
title: 'ã€Laravelã€‘ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯ Password::defaults() ãŒä¾¿åˆ©'
emoji: 'ğŸ¿'
type: 'tech'
topics: ['laravel', 'php', 'password', 'validation']
published: true
---

## Password::defaults()ã¨ã¯
ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«ãŠã‘ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚

### ãŸã¨ãˆã°
`Password::defaults()`ã‚’ä½¿ã‚ãªã„å ´åˆã ã¨ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªè¨˜è¿°ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚
```PHP
public function rules(): array
{
    return [
        'password' => [
            'required',
            'min:8',
            'max:255',
            'confirmed',
            new HogeRule(),
        ],
    ];
}
```

`Password::defaults()`ã‚’ä½¿ã†ã“ã¨ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã§ãã¾ã™ã€‚
```PHP
use Illuminate\Validation\Rules\Password;

public function rules(): array
{
    return [
        'password' => [
            'required',
            'confirmed',
            Password::defaults(),
        ],
    ];
}
```

## Password::defaults()ã®ä½¿ã„æ–¹
### 1. ã¾ãšã¯AppServiceProviderã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã—ã¾ã™
```PHP
use Illuminate\Validation\Rules\Password;

class AppServiceProvider extends ServiceProvider
{
    public function register(): void
    {
        Password::defaults(static fn () => Password::min(8) // 8æ–‡å­—ä»¥ä¸Šã§ã‚ã‚‹ã“ã¨
            ->max(255) // 255æ–‡å­—ä»¥ä¸‹ã§ã‚ã‚‹ã“ã¨
            ->mixedCase() // å¤§æ–‡å­—ã¨å°æ–‡å­—ã®ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã‚’å«ã‚€ã“ã¨
            ->symbols() // è¨˜å·ã‚’1æ–‡å­—ä»¥ä¸Šå«ã‚€ã“ã¨
            ->numbers() // æ•°å­—ã‚’1æ–‡å­—ä»¥ä¸Šå«ã‚€ã“ã¨
            ->uncompromised() // æ¼æ´©æ¸ˆã¿ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ãªã„ã“ã¨
            ->rules([new HogeRule()]) // ä»»æ„ã®ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ãŸã„å ´åˆã¯ã“ã“ã«è¨˜è¿°ã™ã‚‹
        );
    }
}
```

### 2. ã‚ã¨ã¯Password::defaults()ã‚’å‘¼ã³å‡ºã™ã ã‘ã§ã™
```PHP
use Illuminate\Validation\Rules\Password;

public function rules(): array
{
    return [
        'password' => [
            'required',
            'confirmed',
            Password::defaults(),
        ],
    ];
}
```

## ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ—¥æœ¬èª
`lang/ja/validation.php`ã«ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã—ã¦ã‚ã’ã¦ãã ã•ã„ã€‚
```PHP
'min' => [
    'string' => ':attributeã¯ã€:minæ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚',
],
'max' => [
    'string' => ':attributeã¯ã€:maxæ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚',
],
'password' => [
    'letters' => ':attributeã¯ã€å°‘ãªãã¨ã‚‚1ã¤ã®æ–‡å­—ãŒå«ã¾ã‚Œã¦ã„ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚',
    'mixed' => ':attributeã¯ã€å°‘ãªãã¨ã‚‚å¤§æ–‡å­—ã¨å°æ–‡å­—ã‚’1ã¤ãšã¤å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'numbers' => ':attributeã¯ã€å°‘ãªãã¨ã‚‚1ã¤ã®æ•°å­—ãŒå«ã¾ã‚Œã¦ã„ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚',
    'symbols' => ':attributeã¯ã€å°‘ãªãã¨ã‚‚1ã¤ã®è¨˜å·ãŒå«ã¾ã‚Œã¦ã„ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚',
    'uncompromised' => 'ã“ã®:attributeã¯ã€éå»ã«æ¼æ´©ã—ãŸã“ã¨ã®ã‚ã‚‹è„†å¼±ãª:attributeã§ã™ã€‚åˆ¥ã®:attributeã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚',
],
```

## è£œè¶³
### å‚è€ƒ
https://laravel.com/docs/8.x/validation#defining-default-password-rules

### åŸ·ç­†ç’°å¢ƒ
Laravel 10.42
